---
title: "Pythonã‹ã‚‰Javascriptã®éåŒæœŸã‚’å­¦ã‚“ã æ™‚ã®ã¾ã¨ã‚ã€‚" # è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
emoji: "ğŸ”«" # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["javascript", "python", "åˆå¿ƒè€…"] # ã‚¿ã‚°ã€‚["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: true # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---
## æœ€åˆã«

Javascriptã®éåŒæœŸã‚’ã‚„ã£ã¦ã„ãä¸Šã§ã“ã‚ŒãŒã™ã”ã„å¤§äº‹ãªæ°—ãŒã™ã‚‹ã€‚

JSã¯**åŸºæœ¬çš„ã«éåŒæœŸå‡¦ç†ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚ŒãŸè¨€èª**

ãã®ãŸã‚ã“ã‚Œã‹ã‚‰ä½¿ã†callbacké–¢æ•°ã€Promisã€await asyncã§ã¯é–¢æ•°ã‚’éåŒæœŸã«å¤‰æ›ã™ã‚‹ã¨ã„ã†ã‚ˆã‚Šã€éåŒæœŸã«å¾…æ©Ÿå‡¦ç†ã‚’è¿½åŠ ã—ã¦å‡¦ç†ã‚’ä¸Šæ‰‹ãã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨ã„ã†ä½¿ã„æ–¹ã«ãªã‚‹ã€‚

ä»–ã®è¨€èªã§ã¯ã“ã‚ŒãŒé€†ã«ãªã‚‹ã‹ã‚‰ã€å°‘ã—æ··ä¹±ã™ã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚

**è¨˜äº‹ã®æŠ•ç¨¿ç›®çš„**
ç¾åœ¨ç„¡è·ã§JSã«ã¤ã„ã¦å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€è‡ªåˆ†ã®è§£é‡ˆã§åˆã£ã¦ã„ã‚‹ã‹ä¸å®‰ã®ãŸã‚ã€ Notionã§å‹‰å¼·ç”¨ã«ã¾ã¨ã‚ãŸæ–‡ç« ã‚’å°‘ã—èª°ã‹ã«èª¬æ˜ã™ã‚‹ã¤ã‚‚ã‚Šã§ç·¨é›†ã—ã¦è¼‰ã›ã¦ã„ã¾ã™ã€‚

ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã§ã“ã“ã‚‚ã†å°‘ã—è©³ã—ãã€ã“ã‚Œã«ã¤ã„ã¦ã¯ç†è§£ã—ã¦ã„ã‚‹ã®èª¬æ˜ã§ãã‚‹ãªã©æŒ‡æ‘˜ã—ã¦ä¸‹ã•ã‚‹ã¨å‹‰å¼·ã®ç³§ã«ãªã‚ŠåŠ©ã‹ã‚Šã¾ã™ã€‚

## ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ä½¿ã£ãŸéåŒæœŸ

Javascriptã§ã®callback éåŒæœŸ

```jsx
function adding(callback, num){
	console.log(num);//æœ€åˆã¯0
	callback(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
}

//callback()ã¨å¼•æ•°ã‚’å¿˜ã‚Œã‚‹ã¨Nanï¼ˆNot a numberï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

//waitã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®ä¸­ã§ã•ã‚‰ã«waitã‚’å‘¼ã‚“ã§ãã‚Œã‚’ç¹°ã‚Šè¿”ã™ã€‚
adding(num => {
	num++;
	adding(num => {
		num++;
		adding(num => {
				num++;

		}, num);
	}, num);
}, 0);

//å®Ÿè¡Œçµæœ
0
1
2
```

Pythonã§ã®callback åŒæœŸ

```python
num = 0

def say(callback, num):
	print(num)
	return callback(num)

#ç„¡åé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãªã„ã®ã§é–¢æ•°ãŒ2ã¤ã«ãªã‚‹ã€‚
def adding(num):
	num += 1
	return num

num = say(adding, num)
num = say(adding, num)
num = say(adding, num)

#å®Ÿè¡Œçµæœ
0
1
2
```

Pythonã®å ´åˆã¯ `say` ã§å‘¼ã°ã‚ŒãŸ `adding` ã® `return` ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¾ã§æ¬¡ã®å‡¦ç†ã«ã¯ã„ã‹ãªã„ãŒã€JSã®å ´åˆã¯å¾…ãŸãšã«æ¬¡ã®å‡¦ç†ã«è¡Œã£ã¦ã—ã¾ã†ã€‚ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ã‚ã¾ã‚Šé•ã„ã‚’æç¤ºå‡ºæ¥ã¦ãªãã¦ç”³ã—è¨³ãªã„ãŒã€è¨€èªã¨ã—ã¦æ ¹æœ¬çš„ã«ä»•æ§˜ãŒé•ã†ã€‚JSã¯éåŒæœŸã§Pythonã¯åŒæœŸå‡¦ç†ãã®ãŸã‚JSã‚³ãƒ¼ãƒ‰ã‚’Pythonã«å¤‰æ›ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã™ã‚‹éš›ã¯æ™‚æŠ˜å‡¦ç†ã‚’å¾…æ©Ÿã•ã›ã‚‹å¿…è¦ãŒå‡ºã¦ãã‚‹ã€‚

ãã®ãŸã‚JSã§fetchæŠ•ã’ãŸã‚Šã—ã¦ã‚‚ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¾…ãŸãšã«æ¬¡ã®å‡¦ç†ã«ç§»è¡Œã™ã‚‹ã€‚

ä¾‹ â€»å®Ÿéš›ã«ã¯å‹•ä½œã—ãªã„ã€‚

```jsx
//ã‚µãƒ¼ãƒå–å¾—
const res = getDataFromServer();//ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¾…ãŸãšã«æ¬¡ã®å‡¦ç†ã¸

//å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿åŠ å·¥
res.doDomething();//ã“ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã€‚

//å…¨ãé–¢ä¿‚ãªã„ä»–ã®å‡¦ç†
doSomethingElse();
```

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç”¨ã„ãŸéåŒæœŸã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```jsx
function wait(callback, num){
	//setTimeoutã§ã¯ã‚¢ãƒ­ãƒ¼é–¢æ•°ï¼ˆç„¡åé–¢æ•°ï¼‰ã§å¼•æ•°ãŒãªã„åˆ¥ã®é–¢æ•°ã‚’
	//ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦å–ã‚‹ã€‚ãã®ä¸­ã§waitãŒcallbackã¨ã—ã¦å—ã‘å–ã£ãŸç„¡åé–¢æ•°ã‚’å‡¦ç†ã™ã‚‹ã€‚
	//0.1ç§’å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚
	setTimeout(() => {
		//1ç§’å¾Œã«å‡ºåŠ›ã•ã‚Œã‚‹ã€‚
		console.log(num);
		callback();
	}, 1000);
	console.log(num);//å…ˆã«å‡ºåŠ›ã•ã‚Œã‚‹ã€‚
}

wait(() => {
	//ç„¡åé–¢æ•°ã‚’waitã®callbackã«ã™ã‚‹ã€‚
	console.log('callback function is called');
//0ã‚’numã®å¼•æ•°ã¨ã—ã¦å–ã‚‹ã€‚
}, 0);

//å®Ÿè¡Œçµæœ
0
0
callback function is called

```

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ã—ã¦ã¿ã‚‹ã€‚ã“ã‚Œã¯åœ°ç„ã‚‰ã—ã„ã€‚

```jsx
function wait(callback, num){
	setTimeout(() => {
		console.log(num);//æœ€åˆã¯0
		callback(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
	}, 100);
}

//callback()ã¨å¼•æ•°ã‚’å¿˜ã‚Œã‚‹ã¨Nanï¼ˆNot a numberï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

//waitã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®ä¸­ã§ã•ã‚‰ã«waitã‚’å‘¼ã‚“ã§ãã‚Œã‚’ç¹°ã‚Šè¿”ã™ã€‚
wait(num => {
	num++;
	wait(num => {
		num++;
		wait(num => {
				num++;

		}, num);
	}, num);
}, 0);

//æœ€åˆã¯ä¸€ç•ªå¤–å´ã«æ›¸ã‹ã‚ŒãŸå‡¦ç†ãŒè¡Œã‚ã‚Œã‚‹ã®ã§æœ€åˆã®å€¤ã¯0ã«ãªã‚‹ã€‚
```

ä¸€è¡Œã«ã—ã¦ã¿ãŸã€‚å¤–å´ã‹ã‚‰å†…å´ã«å‡¦ç†ãŒå‘ã‹ã£ã¦ã„ãæ„Ÿã˜

```jsx
wait(num=>{num++;wait(num=>{num++; wait(num=>{num++;},num); },num);},0);//num 1
wait(num=>{num++; wait(num=>{num++;},num);} ,1);//num 2
wait(num=>{num++;} ,2);//num 3

```

## Promiseã‚’ä½¿ã£ã¦å‡¦ç†ã‚’å¾…æ©Ÿã•ã›ã‚‹ã€‚

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’promiseã‚’ä½¿ã£ã¦æ›¸ãæ›ãˆã¦ã„ãã€‚

```jsx
function wait(num){
	//å¼•æ•°ãªã—ã®ç„¡åé–¢æ•°ã‚’ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ã„ã¦ã‚‹ã€‚
	//ã¨æ€ã‚ã›ã¦Promiseã§ã¯resolve, rejectã‚’å¼•æ•°ã¨ã—ã¦å–ã‚‹ã€‚
	return new Promise((resolve, reject) => {
		//ã“ã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ä¸­ã§éåŒæœŸå‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã€‚
		setTimeout(() => {
			console.log(num);//æœ€åˆã¯0
			//ã“ã“ãŒå‘¼ã°ã‚ŒãŸæ™‚ç‚¹ã§æ¬¡ã®å‡¦ç†ã«ç§»ã‚‹ã€‚callbackã¨åŒã˜æ©Ÿèƒ½ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™æ™‚ã¯rejectã§å‘¼ã³å‡ºã™ï¼Ÿï¼Ÿ
			resolve(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
		}, num);
	});
}

//waitã®å‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã¯thenã§è¡Œã†ã€‚
//resolveã§æ¸¡ã—ãŸå¼•æ•°ãŒthenãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®å¼•æ•°ã¨ãªã‚‹ã€‚
wait(0).then(num => {
	num++;
	//thenãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã®é–¢æ•°ã®æˆ»ã‚Šå€¤ã«Promiseã‚’æ¸¡ã™äº‹ã§ã“ã®å‡¦ç†ã‚‚éåŒæœŸã§è¡Œã‚ã‚Œã‚‹ã€‚
	return wait(num);
})

```

åŒæœŸå‡¦ç†ã®ã‚ˆã†ã«å‡¦ç†ãŒçµ‚äº†ã—ã¦ã‹ã‚‰åˆ¥ã®å‡¦ç†ã‚’è¡Œãªã‚ã›ãŸã„ï¼ˆãƒã‚§ãƒ¼ãƒ³ã™ã‚‹ï¼‰å ´åˆã¯ `then` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚å‹•ç”»ã§ã¯éåŒæœŸå‡¦ç†ã‚’ç¹‹ã’ã‚‹ã¨ã„ã†è¡¨ç¾ã ã£ãŸãŒã€ãã‚Œã¯åŒæœŸå‡¦ç†ã§ã¯ãªã„ã®ã‹ï¼Ÿã¨æ€ã†ã€‚

```jsx
function wait(num){
	//å¼•æ•°ãªã—ã®ç„¡åé–¢æ•°ã‚’ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ã„ã¦ã‚‹ã€‚
	//ã¨æ€ã‚ã›ã¦Promiseã§ã¯resolve, rejectã‚’å¼•æ•°ã¨ã—ã¦å–ã‚‹ã€‚
	return new Promise((resolve, reject) => {
		//ã“ã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ä¸­ã§éåŒæœŸå‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã€‚
		setTimeout(() => {
			console.log(num);//æœ€åˆã¯0
			//ã“ã“ãŒå‘¼ã°ã‚ŒãŸæ™‚ç‚¹ã§æ¬¡ã®å‡¦ç†ã«ç§»ã‚‹ã€‚callbackã¨åŒã˜æ©Ÿèƒ½ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™æ™‚ã¯rejectã§å‘¼ã³å‡ºã™ï¼Ÿï¼Ÿ
			resolve(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
		}, 100);
	});
}

//waitã®å‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã¯thenã§è¡Œã†ã€‚
//resolveã§æ¸¡ã—ãŸå¼•æ•°ãŒthenãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®å¼•æ•°ã¨ãªã‚‹ã€‚
wait(0).then(num => {
	num++;
	//thenãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã®é–¢æ•°ã®æˆ»ã‚Šå€¤ã«Promiseã‚’æ¸¡ã™äº‹ã§ã“ã®å‡¦ç†ã‚‚éåŒæœŸã§è¡Œã‚ã‚Œã‚‹ã€‚
	//æˆ»ã‚Šå€¤ã¯æ¬¡ã®thenãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ã€‚
	// returnã§è¿”ã•ãšã«wait(num)ã¨è¨˜è¿°ã™ã‚‹ã¨ãƒã‚§ãƒ¼ãƒ³ãŒåˆ‡ã‚ŒéåŒæœŸã«ãªã‚‹ã€‚
	return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
})

//å®Ÿè¡Œçµæœ
0
1
2
3
4

```

ä»Šåº¦ã¯rejectã‚’ä½¿ç”¨ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã„ãã€‚

```jsx
function wait(num){
	//å¼•æ•°ãªã—ã®ç„¡åé–¢æ•°ã‚’ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ã„ã¦ã‚‹ã€‚
	//ã¨æ€ã‚ã›ã¦Promiseã§ã¯resolve, rejectã‚’å¼•æ•°ã¨ã—ã¦å–ã‚‹ã€‚
	return new Promise((resolve, reject) => {
		//ã“ã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ä¸­ã§éåŒæœŸå‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã€‚
		setTimeout(() => {
			console.log(num);//æœ€åˆã¯0
			if(num === 2){
				reject(num);
			}else{
				//ã“ã“ãŒå‘¼ã°ã‚ŒãŸæ™‚ç‚¹ã§æ¬¡ã®å‡¦ç†ã«ç§»ã‚‹ã€‚callbackã¨åŒã˜æ©Ÿèƒ½ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™æ™‚ã¯rejectã§å‘¼ã³å‡ºã™ï¼Ÿï¼Ÿ
				resolve(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
			}
			
		}, 100);
	});
}

//waitã®å‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã¯thenã§è¡Œã†ã€‚
//resolveã§æ¸¡ã—ãŸå¼•æ•°ãŒthenãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®å¼•æ•°ã¨ãªã‚‹ã€‚
wait(0).then(num => {
	num++;
	//thenãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã®é–¢æ•°ã®æˆ»ã‚Šå€¤ã«Promiseã‚’æ¸¡ã™äº‹ã§ã“ã®å‡¦ç†ã‚‚éåŒæœŸã§è¡Œã‚ã‚Œã‚‹ã€‚
	//æˆ»ã‚Šå€¤ã¯æ¬¡ã®thenãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ã€‚
	// returnã§è¿”ã•ãšã«wait(num)ã¨è¨˜è¿°ã™ã‚‹ã¨ãƒã‚§ãƒ¼ãƒ³ãŒåˆ‡ã‚ŒéåŒæœŸã«ãªã‚‹ã€‚
	return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).then(num => {
		num++;
		return wait(num);
}).catch(num => {
		num++;
		console.error(num, 'error');
});

//å®Ÿè¡Œçµæœ
0
1
2
3 error
```

éåŒæœŸã§å‡¦ç†ã‚’ãŸãã•ã‚“èµ°ã‚‰ã›ã¦å…¨ã¦ã®ä¸¦åˆ—å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä½•ã‹ã™ã‚‹å ´åˆã¯ `Promise.all` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

```jsx
//ã“ã®é–¢æ•°ã‚’éåŒæœŸã§ä¸¦åˆ—ã«èµ°ã‚‰ã›ã‚‹ã€‚
function wait(num){
	//å¼•æ•°ãªã—ã®ç„¡åé–¢æ•°ã‚’ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§æ›¸ã„ã¦ã‚‹ã€‚
	//ã¨æ€ã‚ã›ã¦Promiseã§ã¯resolve, rejectã‚’å¼•æ•°ã¨ã—ã¦å–ã‚‹ã€‚
	return new Promise((resolve, reject) => {
		//ã“ã®ã‚¢ãƒ­ãƒ¼é–¢æ•°ã®ä¸­ã§éåŒæœŸå‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã€‚
		setTimeout(() => {
			console.log(num);//æœ€åˆã¯0
			if(num === 2){
				reject(num);
			}else{
				//ã“ã“ãŒå‘¼ã°ã‚ŒãŸæ™‚ç‚¹ã§æ¬¡ã®å‡¦ç†ã«ç§»ã‚‹ã€‚callbackã¨åŒã˜æ©Ÿèƒ½ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™æ™‚ã¯rejectã§å‘¼ã³å‡ºã™ï¼Ÿï¼Ÿ
				resolve(num);//wait(num=>{n++; ....},num};ã“ã“ã§numã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
			}
			
		}, num);
	});
}

Promise.all([wait(1000), wait(1500), wait(2000)]).then(nums => {
	console.log(nums)
})

//å®Ÿè¡Œçµæœ
1000
1500
2000
[1000, 1500, 2000]
//å…¨ã¦ã®å‡¦ç†ãŒå®Ÿè¡Œã•ã‚ŒãŸã®ã¡ã«é…åˆ—ãŒè¿”ã£ã¦ãã‚‹ã€‚
```

`race` ã‚’ä½¿ã£ã¦ ä¸€ã¤ã®å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ `then` ã‚’å‘¼ã¶äº‹ãŒã§ãã‚‹ã€‚ 

```jsx
Promise.race([wait(1000), wait(1500), wait(2000)]).then(nums => {
	console.log(nums + 1);
})
//å®Ÿè¡Œçµæœ
1000
1001 //ã“ã“ã§thenãŒå‘¼ã³å‡ºã•ã‚ŒãŸã€‚numsã¯ä¸€ã¤ã—ã‹å€¤ãŒãªã„ã®ã§é…åˆ—ã«ãªã£ã¦ã„ãªã„ã€‚
1500
2000
```

## await asyncã‚’ä½¿ã£ãŸéåŒæœŸ

ãƒ«ãƒ¼ãƒ«

1. awaitã‚’ä»˜ã‘ã‚‹ã¨æˆ»ã‚Šå€¤ãŒè¿”ã‚‹ã¾ã§å¾…æ©Ÿã™ã‚‹ã€‚
2. awaitã‚’ä½¿ç”¨ã—ãŸé–¢æ•°ã®å…ˆé ­ã«asyncã‚’ä»˜ã‘ã‚‹ã€‚ã“ã®é–¢æ•°ã¯éåŒæœŸã§ã‚ã‚‹ã¨ç¤ºã™ã€‚

```jsx
async function sample() {
	//awaitã‚’ä»˜ã‘ã‚‹äº‹ã§asyncFn()ã®æˆ»ã‚Šå€¤ãŒæ¥ã‚‹ã¾ã§num++ã¯å®Ÿè¡Œã•ã‚Œãªã„ã€‚
	
	const num = await asyncFn();
	num++;
	return num;
}

//ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ­ãƒŸã‚¹ã§è¨˜è¿°ã™ã‚‹å ´åˆ
//asyncFn()ãŒå®Ÿè¡Œã•ã‚ŒãŸæ™‚ç‚¹ã§thenãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã°ã‚Œã‚‹ã€‚
asyncFn(0).then(num => {
	num++;
	return num;
})
```

å…ˆã»ã©ä½¿ç”¨ã—ãŸPromiseã®é–¢æ•°async awaitã§éåŒæœŸã«ã™ã‚‹ã€‚

```jsx

function wait(num){
	return new Promise((resolve, reject) => {
		setTimeout(() => {
			console.log(num);
			if(num === 2){
				reject(num);
			}else{
				resolve(num);
			}
		}, 100);
	});
};

async function init(){
	let num = 0
	try{
		num = await wait(num);
		num++;
		num = await wait(num);
		num++:

	}catch(e){
		throw new Error('Error is occured', e);

	}
	return num;//Promiseã§ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸå€¤ãŒè¿”ã‚‹ã€‚
}

init();//æˆ»ã‚Šå€¤ãŒPromiseãªã®ã§ãã®ã¾ã¾thenãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ç”¨ã§ãã‚‹ã€‚
```

### å‚ç…§

ä¸‹è¨˜ã®å‹•ç”»ã‚’å­¦ç¿’ã—ãªãŒã‚‰ã€ç–‘å•ã«æ€ã£ãŸäº‹ã‚’ã¾ã¨ã‚ã¦è¨˜äº‹ã«ã—ã¾ã—ãŸã€‚ã“ã®æ–¹udemyã§è¬›å¸«ã‚’ã—ã¦ã„ã‚‹æ–¹ã§å‹•ç”»ãŒã¨ã¦ã‚‚ä¸å¯§ã§åˆ†ã‹ã‚Šã‚„ã™ã„ï¼ˆã—ã‹ã‚‚ç„¡æ–™!!ï¼‰ã®ã§Javascriptã§éåŒæœŸã‚’å­¦ã¶ãªã‚‰çµ¶å¯¾ãŠã™ã™ã‚ã§ã™ã€‚

[ã€JavaScriptã€‘éåŒæœŸæ“ä½œã«ã¤ã„ã¦å­¦ã¼ã†ï¼‘ï¼ˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ï¼‰](https://www.youtube.com/watch?v=3gvl2DswvEg)

[ã€JavaScriptã€‘éåŒæœŸæ“ä½œã«ã¤ã„ã¦å­¦ã¼ã†ï¼’ï¼ˆPromiseé–¢æ•°ï¼‰](https://www.youtube.com/watch?v=HITHoT9mQco)

[ã€JavaScriptã€‘éåŒæœŸæ“ä½œã«ã¤ã„ã¦å­¦ã¼ã†ï¼“ï¼ˆAwaitï¼Asyncé–¢æ•°ï¼‰](https://www.youtube.com/watch?v=53N-nUVK9EI)

è¨˜äº‹ã«é–¢ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆç­‰ã¯

ğŸ•Šï¼š[Twitter](https://twitter.com/Unemployed_jp)
ğŸ“ºï¼š[Youtube](https://www.youtube.com/channel/UCT3wLdiZS3Gos87f9fu4EOQ/featured?view_as=subscriber)
ğŸ“¸ï¼š[Instagram](https://www.instagram.com/unemployed_jp/)
ğŸ‘¨ğŸ»â€ğŸ’»ï¼š[Github](https://github.com/wimpykid719?tab=repositories)
ğŸ˜¥ï¼š[Stackoverflow](https://ja.stackoverflow.com/users/edit/22565)

ã§ã‚‚å—ã‘ä»˜ã‘ã¦ã„ã¾ã™ã€‚ã©ã“ã‹ã«ã¯ã„ã¾ã™ã€‚